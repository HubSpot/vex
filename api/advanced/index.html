<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>vex</title><link rel="icon" href="http://static.hubspot.com/favicon.ico"><link rel="stylesheet" href="https://static2cdn.hubspot.com/hubspot_public_assets/static-1.112/shared/sass/hubspot_public_assets.css"><link rel="stylesheet" href="https://static.hubspot.com/bundles/navigation.css"><link rel="stylesheet" href="http://github.hubspot.com/static-resources/css/print.css"><link rel="stylesheet" href="http://github.hubspot.com/static-resources/css/highlight-theme-github.css"><link rel="stylesheet" href="http://github.hubspot.com/static-resources/css/navigation-tweaks.css"><link rel="stylesheet" href="http://github.hubspot.com/static-resources/css/documentation.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="//github.hubspot.com/vex//resources/executr/lib/CodeMirror/codemirror.css"><link rel="stylesheet" href="//github.hubspot.com/vex//resources/executr/build/css/executr.css"><script src="//github.hubspot.com/vex//resources/executr/lib/CodeMirror/codemirror.js"></script><script src="//github.hubspot.com/vex//resources/executr/lib/CodeMirror/mode/coffeescript/coffeescript.js"></script><script src="//github.hubspot.com/vex//resources/executr/lib/CodeMirror/mode/javascript/javascript.js"></script><script src="//github.hubspot.com/vex//resources/executr/lib/coffee-script.js"></script><script src="//github.hubspot.com/vex//resources/executr/lib/underscore.min.js"></script><script src="//github.hubspot.com/vex//resources/executr/lib/js2coffee.min.js"></script><script src="//github.hubspot.com/vex//resources/executr/build/js/executr.js"></script><script src="//github.hubspot.com/vex//resources/executr/build/js/executr-run.js"></script><script src="//use.typekit.net/ghy0wve.js"></script><script type="text/javascript">try {Typekit.load();}catch(e){}
</script></head><body><div id="hs-nav-v3" class="nav-width-flex signed-out-nav">
    <div class="hs-nav-section main-nav">
        <div class="nav-section-inner">
            <ul class="nav-links-left">
                <li class="first"><a class="nav-logo" href="http://www.hubspot.com/"><img height="34" src="https://static.hubspot.com/style-guide/img/nav-sprocket.png" width="29"></a></li>
                <li>
                    <a href="http://product.hubspot.com/">
                        HubSpot Product Team
                    </a>
                </li>
                <li>
                    <a class="current-nav-item" href="http://hubspot.github.com">
                        Open Source
                    </a>
                </li>
                <li>
                    <a href="http://product.hubspot.com/blog">
                        Blog
                    </a>
                </li>
            </ul>
            <ul class="nav-links-right">
                <li class="first">
                    <a href="http://product.hubspot.com/hiring" class="sign-in">We're Hiring!</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="hs-page-width-normal"><div class="row-fluid"><div class="span6"><h1 class="hs-doc-page-header"><a class="hs-doc-homepage-link" href="../../">vex</a></h1></div><div class="span6 hidden-phone"><div class="hs-doc-slim-github-link-wrapper"><a class="hs-doc-slim-github-link" href="http://github.com/HubSpot/vex">â˜… On GitHub</a></div></div></div></div><div class="hs-page-width-normal"><div class="row-fluid"><div class="span3"><div class="hs-doc-sidenav"><nav><ul class="hs-public-sidenav"><li><a href="../../">Home</a></li><li><b>Api</b></li><li><a href="../../api/basic">Basic</a></li><li><a href="../../api/themes">Themes</a></li><li class="current-nav-item"><a href="../../api/advanced">Advanced</a></li><li><a href="../../api/plugins">Plugins</a></li></ul></nav></div></div><div class="span9"><div class="hs-doc-content"><h2 id="advanced">Advanced</h2>
<h3 id="dom-structure">DOM Structure</h3>
<p>When opening an instance, vex appends the following HTML to <code>appendLocation</code> (which defaults to <code>body</code>).</p>
<pre><code class="lang-html">&lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"vex-overlay"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
&lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"vex"</span>&gt;
    &lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"vex-content"</span>&gt;
        &lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"vex-close"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
    &lt;/<span class="hljs-keyword">div</span>&gt;
&lt;/<span class="hljs-keyword">div</span>&gt;
</code></pre>
<p>If <code>showCloseButton</code> is set to false, <code>&lt;div class=&quot;vex-close&quot;&gt;&lt;/div&gt;</code> will be ommitted.</p>
<p>Optional class names can be added to any of these elements by setting any the following options (with defaults shown):</p>
<pre><code><span class="hljs-string">className:</span> <span class="hljs-string">''</span>
<span class="hljs-string">overlayClassName:</span> <span class="hljs-string">''</span>
<span class="hljs-string">contentClassName:</span> <span class="hljs-string">''</span>
<span class="hljs-string">closeClassName:</span> <span class="hljs-string">''</span>
</code></pre><h3 id="vex-api">vex API</h3>
<h4 id="-vex-open-stringoroptions-"><code>vex.open(stringOrOptions)</code></h4>
<p>Returns: a vex instance</p>
<p>Opens an instance. The content of the instance is either the string passed in to <code>vex.open</code> or the <code>content</code>/<code>unsafeContent</code> option.
The default options are documented below.</p>
<h4 id="-vex-close-vexinstanceorid-"><code>vex.close(vexInstanceOrId)</code></h4>
<p>Returns: a boolean indicating whether the instance could be closed</p>
<p>Closes a vex instance. Pass either a vex instance or a numeric id, and vex will try to close the instance.
Closing an instance will remove it from vex&#39;s internal lookup table to save memory, meaning after an instance is closed it will not be retrievable from either <code>vex.getAll()</code> or <code>vex.getById()</code>.</p>
<h4 id="-vex-closetop-"><code>vex.closeTop()</code></h4>
<p>Returns: a boolean indicating whether the top instance could be closed</p>
<p>Closes the most recently opened instance (on top).</p>
<h4 id="-vex-closeall-"><code>vex.closeAll()</code></h4>
<p>Returns: <code>true</code></p>
<p>Closes all vex instances.</p>
<h4 id="-vex-getbyid-id-"><code>vex.getById(id)</code></h4>
<p>Returns: a vex instance or <code>undefined</code></p>
<p>Gets a single vex instance by its id.</p>
<h4 id="-vex-getall-"><code>vex.getAll()</code></h4>
<p>Returns: an object whose keys are ids and values are vex instances mapped to those ids</p>
<p>Gets all open vex instances.</p>
<h3 id="vex-instance-api">vex instance API</h3>
<p>A vex instance is returned from <code>vex.open</code>.</p>
<h4 id="-vexinstance-close-"><code>vexInstance.close()</code></h4>
<p>Returns: a boolean indicating whether the instance could be closed</p>
<p>Closes this vex. Closing a vex instance will remove it from vex&#39;s internal lookup table to save memory, meaning after a vex is closed it will not be retrievable from either <code>vex.getAll()</code> or <code>vex.getById()</code>.</p>
<h4 id="-vexinstance-id-"><code>vexInstance.id</code></h4>
<p>The id assigned to this instance by vex. Used for getting and closing instances.</p>
<h4 id="-vexinstance-rootel-"><code>vexInstance.rootEl</code></h4>
<p>The root DOM element (<code>div.vex</code>).</p>
<h4 id="-vexinstance-overlayel-"><code>vexInstance.overlayEl</code></h4>
<p>The overlay DOM element (<code>div.vex-overlay</code>).</p>
<h4 id="-vexinstance-contentel-"><code>vexInstance.contentEl</code></h4>
<p>The content DOM element (<code>div.vex-content</code>).</p>
<h4 id="-vexinstance-closeel-"><code>vexInstance.closeEl</code></h4>
<p>The close button DOM element (<code>div.vex-close</code>).</p>
<h4 id="-vexinstance-isopen-"><code>vexInstance.isOpen</code></h4>
<p>A boolean indicating whether the instance is open/visible.</p>
<h4 id="options">Options</h4>
<p>When calling <code>vex.open()</code> you can pass a number of options to handle styling and certain behaviors. You can also set the properties of <code>vex.defaultOptions</code> to affect all future calls.</p>
<p><code>vex.defaultOptions</code> is initially this object:</p>
<pre><code class="lang-javascript">defaultOptions: {
    content: <span class="hljs-string">''</span>,
    unsafeContent: <span class="hljs-string">''</span>,
    showCloseButton: <span class="hljs-literal">true</span>,
    escapeButtonCloses: <span class="hljs-literal">true</span>,
    overlayClosesOnClick: <span class="hljs-literal">true</span>,
    appendLocation: <span class="hljs-string">'body'</span>,
    className: <span class="hljs-string">''</span>,
    overlayClassName: <span class="hljs-string">''</span>,
    contentClassName: <span class="hljs-string">''</span>,
    closeClassName: <span class="hljs-string">''</span>,
    closeAllOnPopState: <span class="hljs-literal">true</span>
}
</code></pre>
<p>vex provides <em>safe by default</em> behavior by treating the <code>content</code> you provide as a regular string, not raw HTML.</p>
<p>If you need to pass through HTML to your vex instances, use the <code>unsafeContent</code> option.
The <code>unsafeContent</code> option is safe to use as long as you provide either static HTML <em>or</em> HTML-escape (<a href="https://www.npmjs.com/package/html-escape">html-escape</a>, <a href="https://lodash.com/docs#escape">_.escape</a>, etc.) any untrusted content passed through, such as user-supplied content.</p>
<p>In addition to these string options, there are also three callback functions you can optionally provide:</p>
<ul>
<li><code>afterOpen</code> is called immediately after the vex instance is appended to the DOM</li>
<li><code>afterClose</code> is called immediately after the vex instance is removed from the DOM</li>
<li><code>beforeClose</code> is called before removing the instance from the DOM, and should return a boolean. If <code>beforeClose</code> returns false, the close will not go through and the vex instance will remain open. Useful for validation or any other checks you need to perform.</li>
</ul>
<p>Each callback is called with the context of the vex instance. That is, the keyword <code>this</code> inside of these callback functions references the vex instance.</p>
<p>Lastly, when using single-page applications, the default behavior is for vex to close all open dialogs when a history state change causes a <code>popstate</code> event. 
Setting <code>vex.defaultOptions.closeAllOnPopState</code> to <code>false</code> will allow these dialogs to persist across state changes.
This option has no effect when passed to <code>vex.open()</code>.</p>
<h3 id="note-about-includes">Note about Includes</h3>
<p>To use vex, minimally, you must include:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"vex.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"vex.css"</span> /&gt;</span>
</code></pre>
<p>We also recommend including <code>vex-dialog</code> and a theme file. However, these are not actually required. To include both <code>vex</code> and <code>vex-dialog</code>, use <code>vex.combined.js</code> (or <code>vex.combined.min.js</code>). All of these files can be found in the ZIP which you can <a href="/vex">download here</a>.</p>
<!-- Resources for the demos -->
<p><p style="-webkit-transform: translateZ(0)"></p></p>
<script src="/vex/dist/js/vex.combined.js"></script>
<link rel="stylesheet" href="/vex/dist/css/vex.css" />
<link rel="stylesheet" href="/vex/dist/css/vex-theme-os.css">
<script>
    (function(){
        vex.defaultOptions.className = 'vex-theme-os';
    })();
</script>
</div></div></div></div><div class="hs3-public-footer"><div class="row-fluid hs-page-width-normal"><div class="span3 hidden-phone"><h3>HubSpot</h3><ul><li><a href="http://www.hubspot.com">Home</a></li><li><a href="http://www.hubspot.com/products">Products</a></li><li><a href="http://www.hubspot.com/internet-marketing-company/">About</a></li></ul></div><div class="span3"><h3>Projects</h3><ul><li><a href="http://github.hubspot.com/tether/">Tether</a></li><li><a href="http://github.hubspot.com/offline/docs/welcome">Offline</a></li><li><a href="http://github.hubspot.com/vex/docs/welcome">Vex</a></li><li><a href="http://github.hubspot.com/pace/docs/welcome">PACE</a></li><li><a href="http://github.hubspot.com/odometer/docs/welcome">Odometer</a></li><li><a href="http://github.hubspot.com/shepherd/docs/welcome">Shepherd</a></li></ul></div><div class="span3"><h3>Development Team</h3><ul><li><a href="http://product.hubspot.com">Home</a></li><li><a href="http://github.hubspot.com/">Open Source</a></li><li><a href="http://product.hubspot.com/blog">Blog</a></li><li><a href="http://product.hubspot.com/hiring">Jobs</a></li></ul></div><div class="span3 hidden-phone"><h3>Developer API</h3><ul><li><a href="http://developers.hubspot.com/">Developer Documentation</a></li></ul></div></div></div><!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
    (function(d,s,i,r) {
        if (d.getElementById(i)){return;}
        var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
        n.id=i;n.src='//js.hubspot.com/analytics/'+(Math.ceil(new Date()/r)*r)+'/51294.js';
        e.parentNode.insertBefore(n, e);
    })(document,"script","hs-analytics",300000);
</script>
<!-- End of Async HubSpot Analytics Code -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45159009-1', 'auto');
  ga('send', 'pageview');
</script>
</body></html>